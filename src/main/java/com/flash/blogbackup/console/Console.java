package com.flash.blogbackup.console;import java.io.File;import java.io.FileWriter;import java.io.IOException;import java.io.Writer;/** * @author cairne huangyihua@diandian.com * @date Oct 4, 2011 */public class Console {    public static final String logFileName = "console.log";    private Log latest;    private Writer writer;    private int buffer = 0;    private int bufferSize = 5;    public Console() {        try {            writer = new FileWriter(new File(logFileName), true);        } catch (IOException e) {            e.printStackTrace();        }    }    private void flush(Writer writer) throws IOException {        buffer++;        if (buffer > bufferSize) {            writer.flush();            buffer = 0;        }    }    public void append(String content) {        latest = new Log(Log.Category.info, content);        try {            writer.append(latest.toString() + "\n");            flush(writer);        } catch (IOException e) {            e.printStackTrace();        }    }    public void error(String content) {        latest = new Log(Log.Category.error, content);        try {            writer.append(latest.toString() + "\n");            flush(writer);        } catch (IOException e) {            e.printStackTrace();        }    }    public Log getLatest() {        return latest;    }}