package com.flash.blogbackup.main;import java.awt.GridBagLayout;import java.awt.Rectangle;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import javax.swing.ImageIcon;import javax.swing.JButton;import javax.swing.JFrame;import javax.swing.JMenu;import javax.swing.JMenuBar;import javax.swing.JMenuItem;import javax.swing.JPanel;import javax.swing.JToolBar;import com.flash.blogbackup.model.Blog;/** *  * @author cairne huangyihua@diandian.com * @date Oct 4, 2011 */public class MainFrame extends JFrame {    private JMenuBar menuBar = null;    private JToolBar toolBar = null;    private JMenu taskMenu = null;    private JMenu optionMenu = null;    private JButton startButton = null;    private JPanel panel = null;    private Blog blog = null;    public static MainFrame instance = new MainFrame();    private JPanel getPanel() {        if (panel == null) {            panel = new JPanel();            panel.setLayout(new GridBagLayout());        }        return panel;    }    private void initFrame() {        this.setBounds(new Rectangle(500, 100, 500, 300));        this.setTitle("flash blog backup");        this.setResizable(false);        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);        this.add(getPanel());    }    private void initMenu() {        menuBar = new JMenuBar();        menuBar.add(getTaskMenu());        menuBar.add(getOptionMenu());        this.setJMenuBar(menuBar);    }    private void initToolBar() {        getPanel().add(getToolBar());    }    private JButton getStartButton() {        if (startButton == null) {            startButton = new JButton();            //图标来自http://www.iconfinder.com            startButton.setIcon(new ImageIcon("resources/1317727645_Grey_Backup_W.png"));            startButton.setRolloverIcon(new ImageIcon("resources/1317727704_Blue_Backup_W.png"));            startButton.setBorderPainted(false);            startButton.addActionListener(new ActionListener() {                public void actionPerformed(ActionEvent paramActionEvent) {                    MainFrame.instance.setFocusable(false);                    MainFrame.instance.setEnabled(false);                    StartGuideFrame.instance.setAlwaysOnTop(true);                    StartGuideFrame.instance.reInit();                    StartGuideFrame.instance.setVisible(true);                }            });        }        return startButton;    }    private JToolBar getToolBar() {        if (toolBar == null) {            toolBar = new JToolBar();            toolBar.setFloatable(false);            toolBar.add(getStartButton());        }        return toolBar;    }    private JMenu getTaskMenu() {        if (taskMenu == null) {            taskMenu = new JMenu("任务");            //taskMenu.setIcon(new ImageIcon(MainFrame.class.getResource("new.png")));            taskMenu.add(new JMenuItem("新建"));            taskMenu.add(new JMenuItem("向导"));        }        return taskMenu;    }    private JMenu getOptionMenu() {        if (optionMenu == null) {            optionMenu = new JMenu("选项");        }        return optionMenu;    }    public void init() {        initFrame();        initMenu();        initToolBar();    }    private MainFrame() {        init();    }    public void setBlog(Blog blog) {        this.blog = blog;    }    public Blog getBlog() {        return blog;    }}